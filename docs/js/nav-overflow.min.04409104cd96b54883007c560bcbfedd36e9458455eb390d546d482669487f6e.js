(function(){const e="overflow-panel",n="overflow-overlay";function s(){return document.getElementById("menu")}function i(e){let t=e.querySelector(".menu-more");if(t)return t;t=document.createElement("li"),t.className="menu-more";const n=document.createElement("a");return n.href="javascript:void(0)",n.textContent="Others",n.setAttribute("aria-haspopup","dialog"),n.setAttribute("aria-expanded","false"),t.appendChild(n),e.appendChild(t),n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),o(t),n.setAttribute("aria-expanded","true")}),t}function a(){let o=document.getElementById(n),s=document.getElementById(e);return o||(o=document.createElement("div"),o.id=n,o.className="overflow-overlay",document.body.appendChild(o),o.addEventListener("click",t)),s||(s=document.createElement("div"),s.id=e,s.className="overflow-panel",s.setAttribute("role","dialog"),s.setAttribute("aria-modal","true"),s.innerHTML=`
        <div class="overflow-panel-header">
          <div class="overflow-panel-title">Others</div>
          <button class="overflow-panel-close" aria-label="Close">Ã—</button>
        </div>
        <div class="overflow-panel-body"></div>
      `,document.body.appendChild(s),s.querySelector(".overflow-panel-close").addEventListener("click",t)),document.addEventListener("keydown",function(e){e.key==="Escape"&&t()}),{overlay:o,panel:s}}function o(e){const{overlay:i,panel:s}=a(),n=s.querySelector(".overflow-panel-body"),o=Array.from(e.querySelectorAll("a[data-overflow='true']"));if(n.innerHTML="",o.forEach(e=>{const s=document.createElement("a");s.className="overflow-panel-link",s.href=e.getAttribute("href")||"#",s.textContent=e.textContent;const o=e.getAttribute("target");o&&s.setAttribute("target",o);const i=e.getAttribute("rel");i&&s.setAttribute("rel",i),s.addEventListener("click",()=>t()),n.appendChild(s)}),i.classList.add("open"),s.classList.add("open"),!o.length){const e=document.createElement("div");e.className="overflow-panel-empty",e.textContent="No extra items.",n.appendChild(e)}}function t(){const t=document.getElementById(n),o=document.getElementById(e);t&&t.classList.remove("open"),o&&o.classList.remove("open");const i=s();if(i){const e=i.querySelector(".menu-more > a");e&&e.setAttribute("aria-expanded","false")}}function r(e,t){const n=Array.from(t.querySelectorAll("a[data-overflow='true']"));n.forEach(n=>{n.removeAttribute("data-overflow");const s=document.createElement("li");s.appendChild(n),e.insertBefore(s,t)}),t.style.display="none"}function c(t){const n=i(t);if(r(t,n),t.offsetParent===null)return;const l=t.clientWidth;function s(){return t.scrollWidth>l+1}if(!s()){n.style.display="none";return}n.style.display="";let a=Array.from(t.children).filter(e=>e!==n),d=200;for(;s()&&a.length>0&&d-- >0;){const e=a.pop(),t=e&&e.querySelector("a");if(!t){e&&e.remove();continue}t.setAttribute("data-overflow","true"),n.appendChild(t),e.remove()}const u=n.querySelector("a[data-overflow='true']");n.style.display=u?"":"none";const c=document.getElementById(e);c&&c.classList.contains("open")&&o(n)}function l(){const t=s();if(!t)return;const e=()=>c(t);e(),window.addEventListener("resize",e),setTimeout(e,200),setTimeout(e,600)}document.addEventListener("DOMContentLoaded",l)})()