(function(){const t="overflow-panel",n="overflow-overlay";function i(){return document.getElementById("menu")}function l(e,t){return Array.from(e.children).filter(e=>e!==t)}function r(e){let t=e.querySelector(".menu-more");if(t)return t;t=document.createElement("li"),t.className="menu-more";const n=document.createElement("a");return n.href="javascript:void(0)",n.innerHTML=`
      <span class="others-icon" aria-hidden="true">
        <span></span>
      </span>
    `,n.setAttribute("aria-label","Open menu"),n.setAttribute("aria-haspopup","dialog"),n.setAttribute("aria-expanded","false"),t.appendChild(n),e.appendChild(t),n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),o(t),n.setAttribute("aria-expanded","true")}),t}function c(){let o=document.getElementById(n),s=document.getElementById(t);return o||(o=document.createElement("div"),o.id=n,o.className="overflow-overlay",document.body.appendChild(o),o.addEventListener("click",e)),s||(s=document.createElement("div"),s.id=t,s.className="overflow-panel",s.setAttribute("role","dialog"),s.setAttribute("aria-modal","true"),s.innerHTML=`
        <div class="overflow-panel-header">
          <div class="overflow-panel-title">Menu</div>
          <button class="overflow-panel-close" aria-label="Close">Ã—</button>
        </div>
        <div class="overflow-panel-body"></div>
      `,document.body.appendChild(s),s.querySelector(".overflow-panel-close").addEventListener("click",e)),document.addEventListener("keydown",function(t){t.key==="Escape"&&e()}),{overlay:o,panel:s}}function o(t){const{overlay:i,panel:s}=c(),n=s.querySelector(".overflow-panel-body"),o=Array.from(t.querySelectorAll("a[data-overflow='true']"));if(n.innerHTML="",o.forEach(t=>{const s=document.createElement("a");s.className="overflow-panel-link",s.href=t.getAttribute("href")||"#",s.textContent=t.textContent;const o=t.getAttribute("target");o&&s.setAttribute("target",o);const i=t.getAttribute("rel");i&&s.setAttribute("rel",i),s.addEventListener("click",()=>e()),n.appendChild(s)}),i.classList.add("open"),s.classList.add("open"),!o.length){const e=document.createElement("div");e.className="overflow-panel-empty",e.textContent="No items.",n.appendChild(e)}}function e(){const e=document.getElementById(n),s=document.getElementById(t);e&&e.classList.remove("open"),s&&s.classList.remove("open");const o=i();if(o){const e=o.querySelector(".menu-more > a");e&&e.setAttribute("aria-expanded","false")}}function d(e,t){s(e,t);const n=l(e,t);n.forEach(e=>{const n=e.querySelector("a");if(!n){e.remove();return}n.setAttribute("data-overflow","true"),t.appendChild(n),e.remove()}),t.style.display=""}function s(e,t){const n=Array.from(t.querySelectorAll("a[data-overflow='true']"));n.forEach(n=>{n.removeAttribute("data-overflow");const s=document.createElement("li");s.appendChild(n),e.insertBefore(s,t)})}function a(e,t){s(e,t),t.style.display="none"}function u(e,t){return a(e,t),e.offsetParent===null||e.scrollWidth<=e.clientWidth+1}function h(e){const n=r(e);if(u(e,n)){a(e,n);return}d(e,n);const s=document.getElementById(t);s&&s.classList.contains("open")&&o(n)}function m(){const t=i();if(!t)return;const e=()=>h(t);e(),window.addEventListener("resize",e),setTimeout(e,200),setTimeout(e,600)}document.addEventListener("DOMContentLoaded",m)})()