(function(){function e(e){let t=e.querySelector(".menu-more");if(t)return t;t=document.createElement("li"),t.className="menu-more";const n=document.createElement("a");n.href="javascript:void(0)",n.textContent="Others";const s=document.createElement("div");return s.className="more-dropdown",t.appendChild(n),t.appendChild(s),e.appendChild(t),n.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("open")}),document.addEventListener("click",function(e){t.contains(e.target)||t.classList.remove("open")}),t}function t(e,t){const n=t.querySelector(".more-dropdown"),s=Array.from(n.querySelectorAll("a[data-origin='menu']"));s.forEach(n=>{const s=document.createElement("li");s.appendChild(n),e.insertBefore(s,t)}),n.innerHTML="",t.style.display="none",t.classList.remove("open")}function n(n){const s=e(n);t(n,s);const i=s.querySelector(".more-dropdown");if(n.offsetParent===null)return;const r=n.clientWidth,o=Array.from(n.children).filter(e=>e!==s);if(o.length===0)return;s.style.display="none";function a(){return n.scrollWidth>r+1}a()&&(s.style.display="");let c=200;for(;a()&&o.length>0&&c-- >0;){s.style.display="";const e=o.pop(),t=e.querySelector("a");if(!t){e.remove();continue}t.setAttribute("data-origin","menu"),i.prepend(t),e.remove(),s.style.display=""}s.style.display=i.children.length?"":"none"}function s(){const t=document.getElementById("menu");if(!t)return;const e=()=>n(t);e(),window.addEventListener("resize",e),setTimeout(e,200),setTimeout(e,600)}document.addEventListener("DOMContentLoaded",s)})()